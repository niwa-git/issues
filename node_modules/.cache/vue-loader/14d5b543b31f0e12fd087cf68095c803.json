{"remainingRequest":"C:\\Users\\meeny\\OneDrive\\デスクトップ\\sample20201207\\sample\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\meeny\\OneDrive\\デスクトップ\\sample20201207\\sample\\src\\App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\meeny\\OneDrive\\デスクトップ\\sample20201207\\sample\\src\\App.vue","mtime":1607295378798},{"path":"C:\\Users\\meeny\\OneDrive\\デスクトップ\\sample20201207\\sample\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\meeny\\OneDrive\\デスクトップ\\sample20201207\\sample\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\meeny\\OneDrive\\デスクトップ\\sample20201207\\sample\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\meeny\\OneDrive\\デスクトップ\\sample20201207\\sample\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\meeny\\OneDrive\\デスクトップ\\sample20201207\\sample\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojYXBwIHsKICBmb250LWZhbWlseTogQXZlbmlyLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwogIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwogIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGNvbG9yOiAjMmMzZTUwOwogIG1hcmdpbi10b3A6IDYwcHg7Cn0NCi5saXN0IHsNCiAgbGlzdC1zdHlsZTogbm9uZTsNCiAgbWFyZ2luOiAwOw0KICBwYWRkaW5nOiAwOw0KfQ0KLmxpc3QgbGkgew0KICBoZWlnaHQ6IDQwcHg7DQogIGJvcmRlci10b3A6IHNvbGlkIDFweCAjY2NjOw0KICBib3JkZXItYm90dG9tOiBzb2xpZCAxcHggIzc3NzsNCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgbWFyZ2luOiAwOw0KICBwYWRkaW5nOiAwOw0KfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\r\n  <div id=\"app\">    \r\n    <ul class=\"list\">\r\n      <li class=\"item\" v-for=\"(item, index) in this.items\" :key=\"index\">{{item}}</li>\r\n    </ul>\r\n    <infinite-loading v-if=\"hasNext\" @infinite=\"infiniteHandler\" spinner=\"spiral\" direction=\"bottom\">\r\n      <div slot=\"no-more\">No more</div>\r\n      <div slot=\"no-results\">No results</div>\r\n    </infinite-loading>\r\n  </div>\r\n</template>\n\n<script>\nimport InfiniteLoading from 'vue-infinite-loading'\r\nconst axios = require('axios').default;\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    InfiniteLoading\r\n  },\r\n  data() {\r\n    return {\r\n      items: [],            // ���X�g�ɕ\\������f�[�^\r\n      startPage: 0,         // �J�n�y�[�W�ԍ�\r\n      endPage: 0,           // �I���y�[�W�ԍ�\r\n      totalPages: 0,        // ���y�[�W��\r\n      pageSize: 10,         // �P�y�[�W�ɕ\\������f�[�^����\r\n      initialized: false    // ����f�[�^�A�N�Z�X�������������true��ݒ肷��t���O\r\n    }\r\n  },\r\n  computed: {\r\n    hasNext() {\r\n      return this.initialized && this.totalPages > this.endPage\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n    // ���ݕ\\�����̃y�[�W�ԍ���URL�ɐݒ肷��ׂɁA�X�N���[���C�x���g���Ď�\r\n    window.addEventListener(\"scroll\", () => this.scroll())\r\n\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const page = urlParams.get('page');\r\n\r\n    if (page) {\r\n      // URL�p�����[�^�Ńy�[�W�ԍ����w�肳�ꂽ�ꍇ�A�w��y�[�W����\\��\r\n      this.startPage = parseInt(page, 10)\r\n      this.endPage = parseInt(page, 10)\r\n    } else {\r\n      // �y�[�W�ԍ��̎w�肪�Ȃ��ꍇ�͂P�y�[�W�ڂ���\\��\r\n      this.startPage = 1\r\n      this.endPage = 1\r\n    }\r\n\r\n    // ����f�[�^�A�N�Z�X\r\n    this.getItems(null, this.startPage, false)\r\n  },\r\n  methods: {\r\n\r\n    // �X�N���[�����ɁA���y�[�W�ɕ\\������f�[�^���擾���鏈��\r\n    infiniteHandler($state) {\r\n      if (this.endPage >= this.totalPages) {\r\n        // �\\������f�[�^�������Ȃ�����$state.complete()���Ă�\r\n        $state.complete()\r\n      } else {\r\n        // �\\������f�[�^������ꍇ�A���y�[�W�̃f�[�^��ǂݍ���\r\n        this.getItems($state, this.endPage + 1, true)\r\n      }\r\n    },\r\n\r\n    // �y�[�W�ɕ\\������f�[�^���������鏈��\r\n    getItems($state, page) {\r\n      setTimeout(() => {\r\n      \r\n        // �Ǎ��f�[�^��ݒ�i���ۂ�axios�ȂǂŔ񓯊��Ńf�[�^���擾����z��j\r\n        let data = []\r\n        \r\n        axios\r\n          .get('https://api.github.com/repos/facebook/react/issues?page=' + page +'&per_page='+ this.pageSize)\r\n          .then(response => (data = response))\r\n        for (let i = 1 ; i <= this.pageSize; i++) {\r\n          data.push(`item${page}-${i}`)\r\n        }\r\n        // ���y�[�W����ݒ�\r\n        this.totalPages = data.length\r\n\r\n        // ���ݕ\\�����Ă���f�[�^�̖����Ɏ擾�����f�[�^��ǉ�\r\n        this.items = this.items.concat(data)\r\n        this.endPage = page\r\n\r\n        // $state.loaded()�Ńf�[�^�̓Ǎ�������ʒm����\r\n        if ($state) $state.loaded()\r\n\r\n        this.$nextTick(() => {\r\n          this.initialized = true\r\n        })\r\n      }, 1000)\r\n    },\r\n\r\n    // �X�N���[���C�x���g�������̏���\r\n    scroll() {\r\n      // ���݂̃X�N���[��Y���W����A��ʂɕ\\������Ă���y�[�W�ԍ����v�Z����\r\n      let scroll_pos = window.pageYOffset || document.documentElement.scrollTop\r\n      let window_height = window.outerHeight\r\n      let page = Math.ceil((scroll_pos + 0.5 * window_height) / 40 / this.pageSize) + (this.startPage - 1)\r\n      // replaceState��url�����������iurl�p�����[�^�Ƀy�[�W�ԍ���ݒ�j\r\n      window.history.replaceState(null, null, \"/?page=\" + page)\r\n    }\r\n  }\r\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\r\n.list {\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.list li {\r\n  height: 40px;\r\n  border-top: solid 1px #ccc;\r\n  border-bottom: solid 1px #777;\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  padding: 0;\r\n}\n</style>\r\n"]}]}